# ğŸŒ Stagingç¯å¢ƒServiceé…ç½®
# ä¸ºStagingç¯å¢ƒçš„Podæä¾›è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å‘ç°

apiVersion: v1
kind: Service
metadata:
  name: figma-frame-faithful
  namespace: staging
  labels:
    app: figma-frame-faithful
    environment: staging
    tier: frontend
  annotations:
    service.beta.kubernetes.io/azure-load-balancer-internal: "false"
    prometheus.io/scrape: "true"
    prometheus.io/port: "80"
    prometheus.io/path: "/metrics"
spec:
  type: ClusterIP
  selector:
    app: figma-frame-faithful
    environment: staging
  ports:
  - name: http
    port: 80
    targetPort: http
    protocol: TCP
  sessionAffinity: None

---
# ğŸ” Stagingç¯å¢ƒHeadless Service
# ç”¨äºç›´æ¥è®¿é—®Podï¼Œä¸»è¦ç”¨äºè°ƒè¯•å’Œç›‘æ§
apiVersion: v1
kind: Service
metadata:
  name: figma-frame-faithful-headless
  namespace: staging
  labels:
    app: figma-frame-faithful
    environment: staging
    tier: frontend
    service-type: headless
spec:
  type: ClusterIP
  clusterIP: None
  selector:
    app: figma-frame-faithful
    environment: staging
  ports:
  - name: http
    port: 80
    targetPort: http
    protocol: TCP

---
# ğŸšª NodePort Serviceï¼ˆå¯é€‰ï¼Œç”¨äºå¤–éƒ¨ç›´æ¥è®¿é—®ï¼‰
apiVersion: v1
kind: Service
metadata:
  name: figma-frame-faithful-nodeport
  namespace: staging
  labels:
    app: figma-frame-faithful
    environment: staging
    tier: frontend
    service-type: nodeport
  annotations:
    description: "NodePort service for external access during testing"
spec:
  type: NodePort
  selector:
    app: figma-frame-faithful
    environment: staging
  ports:
  - name: http
    port: 80
    targetPort: http
    protocol: TCP
    nodePort: 30080  # å¯ä»¥è®¿é—® http://node-ip:30080
  externalTrafficPolicy: Local