# æ™ºèƒ½æ•°æ®å¯¼å…¥ç³»ç»Ÿæ¶æ„è®¾è®¡

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

### ğŸ¯ è®¾è®¡ç›®æ ‡
ä¸ºå­¦ç”Ÿç”»åƒç³»ç»Ÿè®¾è®¡ä¸€ä¸ªæ™ºèƒ½åŒ–çš„æ•°æ®å¯¼å…¥ç³»ç»Ÿï¼Œå®ç°ï¼š
- **é›¶é…ç½®å¯¼å…¥**ï¼šAIè‡ªåŠ¨è¯†åˆ«å­—æ®µï¼Œæ— éœ€æ‰‹åŠ¨æ˜ å°„
- **æ™ºèƒ½éªŒè¯**ï¼šè‡ªåŠ¨å‘ç°å’Œä¿®å¤æ•°æ®é—®é¢˜  
- **ç”¨æˆ·å‹å¥½**ï¼šç›´è§‚çš„å‘å¯¼å¼ç•Œé¢
- **é«˜å¯é æ€§**ï¼šäº‹åŠ¡æ€§å¯¼å…¥å’Œå®Œæ•´çš„é”™è¯¯å¤„ç†

### ğŸ” å½“å‰ç—›ç‚¹åˆ†æ
1. **æ‰‹åŠ¨å­—æ®µæ˜ å°„**ï¼šæ•™å¸ˆéœ€è¦é€ä¸ªé…ç½®å­—æ®µå¯¹åº”å…³ç³»
2. **æ ¼å¼å…¼å®¹æ€§å·®**ï¼šä¸åŒExcel/CSVæ ¼å¼å¤„ç†å›°éš¾
3. **æ•°æ®éªŒè¯ä¸è¶³**ï¼šç¼ºä¹æ™ºèƒ½çš„æ•°æ®æ¸…æ´—å’ŒéªŒè¯
4. **é”™è¯¯å¤„ç†ç®€é™‹**ï¼šå¯¼å…¥å¤±è´¥æ—¶ç¼ºä¹è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
5. **ç”¨æˆ·ä½“éªŒå·®**ï¼šæ“ä½œæ­¥éª¤ç¹çï¼Œå­¦ä¹ æˆæœ¬é«˜

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### ğŸ“Š æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å‰ç«¯ç”¨æˆ·ç•Œé¢å±‚                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ–‡ä»¶ä¸Šä¼ ç»„ä»¶  â”‚  æ˜ å°„é…ç½®ç•Œé¢  â”‚  é¢„è§ˆç¡®è®¤ç•Œé¢  â”‚  è¿›åº¦è·Ÿè¸ªç»„ä»¶  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     APIç½‘å…³å±‚                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ–‡ä»¶ä¸Šä¼ API  â”‚  è§£æAPI  â”‚  æ˜ å°„API  â”‚  éªŒè¯API  â”‚  å¯¼å…¥API   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ ¸å¿ƒå¤„ç†å¼•æ“å±‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ–‡ä»¶è§£æå¼•æ“ â”‚ æ™ºèƒ½æ˜ å°„å¼•æ“ â”‚ æ•°æ®éªŒè¯å¼•æ“ â”‚ å¯¼å…¥æ‰§è¡Œå¼•æ“    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ•°æ®å­˜å‚¨å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ–‡ä»¶å­˜å‚¨  â”‚  ä¸´æ—¶æ•°æ®è¡¨  â”‚  ä¸šåŠ¡æ•°æ®è¡¨  â”‚  é…ç½®å’Œæ—¥å¿—è¡¨     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§© æ ¸å¿ƒæ¨¡å—è®¾è®¡

### 1. æ–‡ä»¶è§£æå¼•æ“ (File Parser Engine)

**åŠŸèƒ½èŒè´£**ï¼š
- è‡ªåŠ¨æ£€æµ‹æ–‡ä»¶æ ¼å¼å’Œç¼–ç 
- è§£ææ–‡ä»¶å†…å®¹å’Œç»“æ„
- æå–è¡¨å¤´å’Œæ•°æ®è¡Œ
- å¤„ç†ç‰¹æ®Šæ ¼å¼ï¼ˆåˆå¹¶å•å…ƒæ ¼ã€å¤šå·¥ä½œè¡¨ï¼‰

**æŠ€æœ¯å®ç°**ï¼š
```typescript
interface FileParserEngine {
  // æ£€æµ‹æ–‡ä»¶æ ¼å¼
  detectFormat(file: File): Promise<FileFormat>;
  
  // è§£ææ–‡ä»¶å†…å®¹
  parseFile(file: File, options?: ParseOptions): Promise<ParsedData>;
  
  // åˆ†æè¡¨æ ¼ç»“æ„
  analyzeStructure(data: RawData): TableStructure;
}

interface ParsedData {
  headers: string[];           // è¡¨å¤´ä¿¡æ¯
  rows: any[][];              // æ•°æ®è¡Œ
  metadata: FileMetadata;      // æ–‡ä»¶å…ƒæ•°æ®
  structure: TableStructure;   // è¡¨æ ¼ç»“æ„
}
```

**æ”¯æŒæ ¼å¼**ï¼š
- Excelæ–‡ä»¶ï¼š.xlsx, .xls
- CSVæ–‡ä»¶ï¼š.csv (æ”¯æŒå¤šç§åˆ†éš”ç¬¦)
- TSVæ–‡ä»¶ï¼š.tsv
- ç¼–ç æ”¯æŒï¼šUTF-8, GBK, GB2312

### 2. æ™ºèƒ½å­—æ®µæ˜ å°„å¼•æ“ (Smart Field Mapping Engine)

**åŠŸèƒ½èŒè´£**ï¼š
- AIé©±åŠ¨çš„å­—æ®µè¯†åˆ«
- æ¨¡ç³ŠåŒ¹é…å’Œè¯­ä¹‰ç†è§£
- å†å²æ˜ å°„å­¦ä¹ 
- ç½®ä¿¡åº¦è¯„åˆ†

**æŠ€æœ¯å®ç°**ï¼š
```typescript
interface SmartMappingEngine {
  // AIå­—æ®µè¯†åˆ«
  identifyFields(headers: string[]): Promise<FieldMapping[]>;
  
  // æ¨¡ç³ŠåŒ¹é…
  fuzzyMatch(sourceField: string, targetFields: string[]): MatchResult[];
  
  // å­¦ä¹ ç”¨æˆ·åå¥½
  learnFromHistory(userId: string, mappings: FieldMapping[]): void;
  
  // è·å–æ˜ å°„å»ºè®®
  getSuggestions(headers: string[], context: ImportContext): MappingSuggestion[];
}

interface FieldMapping {
  sourceField: string;      // æºå­—æ®µå
  targetField: string;      // ç›®æ ‡å­—æ®µå
  confidence: number;       // ç½®ä¿¡åº¦ (0-1)
  mappingType: 'exact' | 'fuzzy' | 'ai' | 'manual';
}
```

**AIè¯†åˆ«è§„åˆ™**ï¼š
```typescript
const FIELD_RECOGNITION_RULES = {
  student_id: ['å­¦å·', 'å­¦ç”Ÿç¼–å·', 'å­¦ç”ŸID', 'student_id', 'id', 'ç¼–å·'],
  name: ['å§“å', 'å­¦ç”Ÿå§“å', 'name', 'åå­—'],
  class_name: ['ç­çº§', 'ç­çº§åç§°', 'class', 'æ‰€åœ¨ç­çº§'],
  // ç§‘ç›®æˆç»©å­—æ®µ
  chinese: ['è¯­æ–‡', 'è¯­æ–‡æˆç»©', 'chinese'],
  math: ['æ•°å­¦', 'æ•°å­¦æˆç»©', 'math'],
  english: ['è‹±è¯­', 'è‹±è¯­æˆç»©', 'english'],
  // æ›´å¤šå­—æ®µ...
};
```

### 3. æ•°æ®éªŒè¯å¼•æ“ (Data Validation Engine)

**åŠŸèƒ½èŒè´£**ï¼š
- æ ¼å¼éªŒè¯ï¼ˆæ•°æ®ç±»å‹ã€èŒƒå›´æ£€æŸ¥ï¼‰
- é€»è¾‘éªŒè¯ï¼ˆé‡å¤æ€§ã€å…³è”æ€§ï¼‰
- ä¸šåŠ¡è§„åˆ™éªŒè¯ï¼ˆç­çº§å­˜åœ¨æ€§ã€å­¦ç”Ÿå”¯ä¸€æ€§ï¼‰
- æ•°æ®æ¸…æ´—å’Œæ ‡å‡†åŒ–

**æŠ€æœ¯å®ç°**ï¼š
```typescript
interface ValidationEngine {
  // æ‰§è¡ŒéªŒè¯
  validate(data: ImportData, rules: ValidationRule[]): ValidationResult;
  
  // æ•°æ®æ¸…æ´—
  cleanData(data: any[]): CleanedData;
  
  // è·å–éªŒè¯è§„åˆ™
  getValidationRules(dataType: string): ValidationRule[];
}

interface ValidationRule {
  field: string;
  type: 'format' | 'range' | 'unique' | 'required' | 'custom';
  rule: any;
  message: string;
  severity: 'error' | 'warning' | 'info';
}

interface ValidationResult {
  isValid: boolean;
  errors: ValidationError[];
  warnings: ValidationWarning[];
  cleanedData: any[];
}
```

**éªŒè¯è§„åˆ™ç¤ºä¾‹**ï¼š
```typescript
const VALIDATION_RULES = {
  student_id: {
    required: true,
    format: /^\d{8,12}$/,
    unique: true,
    message: 'å­¦å·å¿…é¡»æ˜¯8-12ä½æ•°å­—ä¸”å”¯ä¸€'
  },
  name: {
    required: true,
    format: /^[\u4e00-\u9fa5a-zA-Z\s]{2,10}$/,
    message: 'å§“åå¿…é¡»æ˜¯2-10ä¸ªå­—ç¬¦'
  },
  score: {
    type: 'number',
    range: [0, 100],
    message: 'æˆç»©å¿…é¡»åœ¨0-100ä¹‹é—´'
  }
};
```

### 4. å¯¼å…¥æ‰§è¡Œå¼•æ“ (Import Execution Engine)

**åŠŸèƒ½èŒè´£**ï¼š
- äº‹åŠ¡æ€§æ•°æ®å¯¼å…¥
- å†²çªæ£€æµ‹å’Œè§£å†³
- å›æ»šæœºåˆ¶
- è¿›åº¦è·Ÿè¸ª

**æŠ€æœ¯å®ç°**ï¼š
```typescript
interface ImportExecutionEngine {
  // æ‰§è¡Œå¯¼å…¥
  executeImport(session: ImportSession): Promise<ImportResult>;
  
  // æ£€æµ‹å†²çª
  detectConflicts(data: any[], existingData: any[]): Conflict[];
  
  // å›æ»šå¯¼å…¥
  rollbackImport(sessionId: string): Promise<void>;
  
  // è·å–å¯¼å…¥è¿›åº¦
  getProgress(sessionId: string): ImportProgress;
}

interface ImportSession {
  id: string;
  userId: string;
  data: any[];
  mappings: FieldMapping[];
  options: ImportOptions;
  status: 'pending' | 'processing' | 'completed' | 'failed';
}
```

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ–°å¢è¡¨ç»“æ„

```sql
-- å¯¼å…¥ä¼šè¯è¡¨
CREATE TABLE import_sessions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users(id),
  file_name TEXT NOT NULL,
  file_size INTEGER,
  file_type TEXT,
  status TEXT DEFAULT 'pending',
  total_rows INTEGER,
  processed_rows INTEGER DEFAULT 0,
  success_rows INTEGER DEFAULT 0,
  error_rows INTEGER DEFAULT 0,
  mappings JSONB,
  options JSONB,
  created_at TIMESTAMPTZ DEFAULT now(),
  completed_at TIMESTAMPTZ
);

-- å­—æ®µæ˜ å°„å†å²è¡¨
CREATE TABLE import_field_mappings (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users(id),
  source_field TEXT NOT NULL,
  target_field TEXT NOT NULL,
  confidence DECIMAL(3,2),
  mapping_type TEXT,
  usage_count INTEGER DEFAULT 1,
  last_used_at TIMESTAMPTZ DEFAULT now(),
  created_at TIMESTAMPTZ DEFAULT now()
);

-- éªŒè¯è§„åˆ™é…ç½®è¡¨
CREATE TABLE import_validation_rules (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  field_name TEXT NOT NULL,
  rule_type TEXT NOT NULL,
  rule_config JSONB NOT NULL,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMPTZ DEFAULT now()
);

-- å¯¼å…¥æ—¥å¿—è¡¨
CREATE TABLE import_logs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  session_id UUID REFERENCES import_sessions(id),
  level TEXT NOT NULL, -- 'info', 'warning', 'error'
  message TEXT NOT NULL,
  details JSONB,
  row_number INTEGER,
  created_at TIMESTAMPTZ DEFAULT now()
);

-- ä¸´æ—¶å¯¼å…¥æ•°æ®è¡¨
CREATE TABLE temp_import_data (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  session_id UUID REFERENCES import_sessions(id),
  row_number INTEGER NOT NULL,
  raw_data JSONB NOT NULL,
  mapped_data JSONB,
  validation_status TEXT DEFAULT 'pending',
  validation_errors JSONB,
  created_at TIMESTAMPTZ DEFAULT now()
);
```

## ğŸ”Œ APIæ¥å£è®¾è®¡

### Edge Functions

#### 1. parse-file
```typescript
// æ–‡ä»¶è§£ææ¥å£
POST /functions/v1/parse-file
Content-Type: multipart/form-data

Request:
- file: File (Excel/CSVæ–‡ä»¶)
- options?: ParseOptions

Response:
{
  success: boolean;
  data: {
    sessionId: string;
    headers: string[];
    preview: any[][];
    metadata: FileMetadata;
    structure: TableStructure;
  };
  error?: string;
}
```

#### 2. smart-field-mapping
```typescript
// æ™ºèƒ½å­—æ®µæ˜ å°„æ¥å£
POST /functions/v1/smart-field-mapping

Request:
{
  sessionId: string;
  headers: string[];
  context?: ImportContext;
}

Response:
{
  success: boolean;
  data: {
    mappings: FieldMapping[];
    suggestions: MappingSuggestion[];
    confidence: number;
  };
  error?: string;
}
```

#### 3. validate-import-data
```typescript
// æ•°æ®éªŒè¯æ¥å£
POST /functions/v1/validate-import-data

Request:
{
  sessionId: string;
  mappings: FieldMapping[];
  validationRules?: ValidationRule[];
}

Response:
{
  success: boolean;
  data: {
    validationResult: ValidationResult;
    preview: any[];
    statistics: ValidationStatistics;
  };
  error?: string;
}
```

#### 4. execute-import
```typescript
// æ‰§è¡Œå¯¼å…¥æ¥å£
POST /functions/v1/execute-import

Request:
{
  sessionId: string;
  options: ImportOptions;
}

Response:
{
  success: boolean;
  data: {
    importResult: ImportResult;
    statistics: ImportStatistics;
  };
  error?: string;
}
```

## ğŸ¨ ç”¨æˆ·ç•Œé¢è®¾è®¡

### å¯¼å…¥å‘å¯¼æµç¨‹

#### ç¬¬1æ­¥ï¼šæ–‡ä»¶é€‰æ‹©
```tsx
<FileUploadStep>
  <DropZone 
    accept=".xlsx,.xls,.csv"
    maxSize={10 * 1024 * 1024} // 10MB
    onUpload={handleFileUpload}
  />
  <FileFormatGuide />
  <TemplateDownload />
</FileUploadStep>
```

#### ç¬¬2æ­¥ï¼šå­—æ®µæ˜ å°„
```tsx
<FieldMappingStep>
  <MappingPreview 
    suggestions={aiSuggestions}
    onMappingChange={handleMappingChange}
  />
  <ConfidenceIndicator />
  <ManualAdjustment />
</FieldMappingStep>
```

#### ç¬¬3æ­¥ï¼šæ•°æ®é¢„è§ˆ
```tsx
<DataPreviewStep>
  <ValidationSummary />
  <DataTable 
    data={previewData}
    errors={validationErrors}
    warnings={validationWarnings}
  />
  <ErrorResolution />
</DataPreviewStep>
```

#### ç¬¬4æ­¥ï¼šç¡®è®¤å¯¼å…¥
```tsx
<ImportConfirmationStep>
  <ImportSummary />
  <ImportOptions />
  <ConflictResolution />
  <ImportButton />
</ImportConfirmationStep>
```

#### ç¬¬5æ­¥ï¼šå¯¼å…¥ç»“æœ
```tsx
<ImportResultStep>
  <ProgressIndicator />
  <ResultSummary />
  <ErrorReport />
  <SuccessActions />
</ImportResultStep>
```

## âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 1. å¤§æ–‡ä»¶å¤„ç†
- **åˆ†å—ä¸Šä¼ **ï¼šå¤§æ–‡ä»¶åˆ†å—ä¸Šä¼ ï¼Œé¿å…è¶…æ—¶
- **æµå¼å¤„ç†**ï¼šä½¿ç”¨æµå¼è§£æï¼Œå‡å°‘å†…å­˜å ç”¨
- **å¼‚æ­¥å¤„ç†**ï¼šåå°å¼‚æ­¥å¤„ç†ï¼Œå‰ç«¯è½®è¯¢è¿›åº¦

### 2. ç¼“å­˜ç­–ç•¥
- **è§£æç»“æœç¼“å­˜**ï¼šç¼“å­˜æ–‡ä»¶è§£æç»“æœ
- **æ˜ å°„é…ç½®ç¼“å­˜**ï¼šç¼“å­˜ç”¨æˆ·çš„æ˜ å°„åå¥½
- **éªŒè¯è§„åˆ™ç¼“å­˜**ï¼šç¼“å­˜éªŒè¯è§„åˆ™é…ç½®

### 3. æ•°æ®åº“ä¼˜åŒ–
- **æ‰¹é‡æ“ä½œ**ï¼šä½¿ç”¨æ‰¹é‡æ’å…¥å‡å°‘æ•°æ®åº“è¿æ¥
- **ç´¢å¼•ä¼˜åŒ–**ï¼šä¸ºæŸ¥è¯¢å­—æ®µæ·»åŠ é€‚å½“ç´¢å¼•
- **åˆ†åŒºè¡¨**ï¼šå¤§æ•°æ®é‡æ—¶ä½¿ç”¨åˆ†åŒºè¡¨

## ğŸ”’ å®‰å…¨è€ƒè™‘

### 1. æ–‡ä»¶å®‰å…¨
- **æ–‡ä»¶ç±»å‹éªŒè¯**ï¼šä¸¥æ ¼éªŒè¯æ–‡ä»¶ç±»å‹å’Œå†…å®¹
- **æ–‡ä»¶å¤§å°é™åˆ¶**ï¼šé™åˆ¶ä¸Šä¼ æ–‡ä»¶å¤§å°
- **ç—…æ¯’æ‰«æ**ï¼šé›†æˆç—…æ¯’æ‰«æåŠŸèƒ½

### 2. æ•°æ®å®‰å…¨
- **æ•°æ®éš”ç¦»**ï¼šç”¨æˆ·æ•°æ®ä¸¥æ ¼éš”ç¦»
- **æ•æ„Ÿä¿¡æ¯å¤„ç†**ï¼šå¯¹æ•æ„Ÿä¿¡æ¯è¿›è¡Œè„±æ•
- **è®¿é—®æ§åˆ¶**ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶

### 3. ç³»ç»Ÿå®‰å…¨
- **SQLæ³¨å…¥é˜²æŠ¤**ï¼šä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
- **XSSé˜²æŠ¤**ï¼šè¾“å…¥è¾“å‡ºè¿‡æ»¤
- **CSRFé˜²æŠ¤**ï¼šä½¿ç”¨CSRFä»¤ç‰Œ

## ğŸ“ˆ ç›‘æ§å’Œæ—¥å¿—

### 1. æ€§èƒ½ç›‘æ§
- **å¯¼å…¥è€—æ—¶ç»Ÿè®¡**ï¼šç›‘æ§å„æ­¥éª¤è€—æ—¶
- **æˆåŠŸç‡ç»Ÿè®¡**ï¼šç›‘æ§å¯¼å…¥æˆåŠŸç‡
- **é”™è¯¯ç‡ç»Ÿè®¡**ï¼šç›‘æ§å„ç±»é”™è¯¯å‘ç”Ÿç‡

### 2. ä¸šåŠ¡ç›‘æ§
- **ç”¨æˆ·è¡Œä¸ºåˆ†æ**ï¼šåˆ†æç”¨æˆ·ä½¿ç”¨æ¨¡å¼
- **åŠŸèƒ½ä½¿ç”¨ç»Ÿè®¡**ï¼šç»Ÿè®¡å„åŠŸèƒ½ä½¿ç”¨é¢‘ç‡
- **é”™è¯¯æ¨¡å¼åˆ†æ**ï¼šåˆ†æå¸¸è§é”™è¯¯æ¨¡å¼

### 3. ç³»ç»Ÿæ—¥å¿—
- **æ“ä½œæ—¥å¿—**ï¼šè®°å½•ç”¨æˆ·æ“ä½œ
- **é”™è¯¯æ—¥å¿—**ï¼šè®°å½•ç³»ç»Ÿé”™è¯¯
- **æ€§èƒ½æ—¥å¿—**ï¼šè®°å½•æ€§èƒ½æŒ‡æ ‡

## ğŸš€ å®æ–½è®¡åˆ’

### é˜¶æ®µ1ï¼šåŸºç¡€æ¶æ„ (1-2å‘¨)
- [ ] è®¾è®¡å’Œåˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„
- [ ] åˆ›å»ºåŸºç¡€Edge Functionsæ¡†æ¶
- [ ] å®ç°æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
- [ ] å»ºç«‹åŸºç¡€çš„é”™è¯¯å¤„ç†æœºåˆ¶

### é˜¶æ®µ2ï¼šæ ¸å¿ƒåŠŸèƒ½ (2-3å‘¨)
- [ ] å®ç°æ–‡ä»¶è§£æå¼•æ“
- [ ] å¼€å‘åŸºç¡€å­—æ®µæ˜ å°„åŠŸèƒ½
- [ ] å»ºç«‹æ•°æ®éªŒè¯è§„åˆ™ä½“ç³»
- [ ] å®ç°æ•°æ®é¢„è§ˆåŠŸèƒ½

### é˜¶æ®µ3ï¼šæ™ºèƒ½åŒ–åŠŸèƒ½ (2-3å‘¨)
- [ ] é›†æˆAIå­—æ®µæ˜ å°„
- [ ] å®ç°æ™ºèƒ½æ•°æ®æ¸…æ´—
- [ ] å¼€å‘å†²çªæ£€æµ‹å’Œè§£å†³
- [ ] ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

### é˜¶æ®µ4ï¼šå®Œå–„å’Œæµ‹è¯• (1-2å‘¨)
- [ ] å®Œå–„é”™è¯¯å¤„ç†å’Œå›æ»šæœºåˆ¶
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œå‹åŠ›æµ‹è¯•
- [ ] å…¨é¢åŠŸèƒ½æµ‹è¯•
- [ ] ç”¨æˆ·ä½“éªŒæµ‹è¯•

## ğŸ“Š æˆåŠŸæŒ‡æ ‡

### æŠ€æœ¯æŒ‡æ ‡
- **å¯¼å…¥æˆåŠŸç‡** > 95%
- **å­—æ®µæ˜ å°„å‡†ç¡®ç‡** > 90%
- **æ•°æ®éªŒè¯å‡†ç¡®ç‡** > 95%
- **ç³»ç»Ÿå“åº”æ—¶é—´** < 3ç§’

### ç”¨æˆ·ä½“éªŒæŒ‡æ ‡
- **ç”¨æˆ·æ“ä½œæ­¥éª¤å‡å°‘** 50%
- **å¯¼å…¥æ—¶é—´ç¼©çŸ­** 60%
- **ç”¨æˆ·æ»¡æ„åº¦** > 4.5/5
- **é”™è¯¯ç‡é™ä½** 80%

### ä¸šåŠ¡æŒ‡æ ‡
- **ç”¨æˆ·é‡‡ç”¨ç‡** > 80%
- **åŠŸèƒ½ä½¿ç”¨é¢‘ç‡**æå‡ 200%
- **æŠ€æœ¯æ”¯æŒè¯·æ±‚å‡å°‘** 70%

## ğŸ”— ç›¸å…³æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **React 18** + TypeScript
- **Shadcn UI** + Tailwind CSS
- **React Query** çŠ¶æ€ç®¡ç†
- **Papa Parse** CSVè§£æ
- **SheetJS** Excelè§£æ

### åç«¯æŠ€æœ¯
- **Supabase Edge Functions** (Deno)
- **PostgreSQL** æ•°æ®åº“
- **Supabase Storage** æ–‡ä»¶å­˜å‚¨
- **OpenAI/è±†åŒ… API** AIæœåŠ¡

### å¼€å‘å·¥å…·
- **Vite** æ„å»ºå·¥å…·
- **ESLint** + **Prettier** ä»£ç è§„èŒƒ
- **Jest** å•å…ƒæµ‹è¯•
- **Playwright** E2Eæµ‹è¯•

---

è¿™ä¸ªæ™ºèƒ½æ•°æ®å¯¼å…¥ç³»ç»Ÿå°†æ˜¾è‘—æå‡å­¦ç”Ÿç”»åƒç³»ç»Ÿçš„æ•°æ®å¯¼å…¥ä½“éªŒï¼Œè®©æ•™å¸ˆèƒ½å¤Ÿæ›´è½»æ¾ã€æ›´å‡†ç¡®åœ°å¯¼å…¥å„ç§æ ¼å¼çš„å­¦ç”Ÿæ•°æ®ï¼Œä¸ºåç»­çš„æ•°æ®åˆ†æå’Œå­¦ç”Ÿç”»åƒç”Ÿæˆæä¾›é«˜è´¨é‡çš„æ•°æ®åŸºç¡€ã€‚ 