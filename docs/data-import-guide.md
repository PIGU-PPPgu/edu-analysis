# 成绩数据导入规范指南

本文档提供了成绩数据导入的规范和最佳实践，以确保数据分析图表能够正确显示。

## 必需字段

导入成绩数据时，以下字段是**必需的**：

| 字段名称 | 说明 | 示例 |
|---------|------|------|
| `student_id` | 学生学号 | 1081109001 |
| `name` | 学生姓名 | 张三 |
| `class_name` | 班级名称 | 初三7班 |
| `subject` | 科目名称（或对应科目的分数列） | 语文 |
| `total_score` | 科目分数 | 95 |

## 数据格式要求

### 班级名称格式

- 班级名称必须为非空值，否则将被自动设置为"未知班级"
- 推荐格式：`年级+班级号`，如"初三7班"、"高一(1)班"
- 如果数据中没有班级字段，系统将尝试从学号推断班级信息

### 学号格式

- 对于格式为`108110907xxx`的学号，系统将自动识别为"初三7班"
- 建议学号包含班级信息，以便系统能自动关联

### 科目名称格式

- 科目名称应使用全名，如"语文"、"数学"、"英语"等
- 系统可识别一些常见的科目名称缩写和英文名，但建议使用中文全名

## 导入方式说明

### 宽表格式导入

宽表格式是指每个学生占一行，不同科目成绩在不同列的格式：

```
学号   | 姓名 | 班级     | 语文 | 数学 | 英语 | ...
------|-----|---------|-----|-----|-----|----
10001 | 张三 | 初三7班  | 95  | 88  | 92  | ...
10002 | 李四 | 初三7班  | 86  | 91  | 87  | ...
```

导入宽表格式时：
1. 确保正确映射学号、姓名和班级字段
2. 系统会自动识别包含分数的列作为科目名称
3. 科目列名应尽量简洁明确，如"语文"、"数学_分数"等

### 长表格式导入

长表格式是指每个学生的每个科目占一行的格式：

```
学号   | 姓名 | 班级     | 科目 | 分数 | ...
------|-----|---------|-----|-----|----
10001 | 张三 | 初三7班  | 语文 | 95  | ...
10001 | 张三 | 初三7班  | 数学 | 88  | ...
10001 | 张三 | 初三7班  | 英语 | 92  | ...
```

导入长表格式时：
1. 确保正确映射所有必需字段
2. 特别注意科目名称和分数的映射

## 导入后检查

成功导入后，请检查：

1. 班级图表中是否显示正确的班级名称
2. 科目贡献度图表是否显示所有科目
3. 学生成绩是否完整显示

如发现数据显示异常，请检查：
- 数据导入时的字段映射是否正确
- 班级名称是否一致
- 科目名称是否统一规范

## 常见问题与解决方案

### 班级图表不显示或显示"未知班级"

- 原因：班级字段未正确映射或数据中班级值为空
- 解决方案：确保数据中包含班级信息，并在导入时正确映射班级字段

### 科目贡献度图表不显示部分科目

- 原因：科目名称不一致或数据格式问题
- 解决方案：统一科目名称格式，确保所有学生的科目名称一致

### 箱线图数据异常

- 原因：可能是缺少分数数据或分数格式不正确
- 解决方案：检查分数数据是否为数值类型，是否有缺失值 