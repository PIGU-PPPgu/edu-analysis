# ğŸ“‹ ä»£ç è´¨é‡æ ‡å‡†æ–‡æ¡£

## ğŸ¯ è´¨é‡ä¿è¯ä½“ç³»æ¦‚è§ˆ

æœ¬é¡¹ç›®å®æ–½å®Œæ•´çš„ä»£ç è´¨é‡ä¿è¯ä½“ç³»ï¼ŒåŒ…å«å››å±‚è´¨é‡æ£€æŸ¥ï¼š**æ ¼å¼åŒ– â†’ è¯­æ³•æ£€æŸ¥ â†’ ç±»å‹æ£€æŸ¥ â†’ æµ‹è¯•**ã€‚

### ğŸ—ï¸ å·¥å…·é“¾æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Prettier      â”‚ -> â”‚    ESLint       â”‚ -> â”‚   TypeScript    â”‚ -> â”‚     Vitest      â”‚
â”‚   ä»£ç æ ¼å¼åŒ–     â”‚    â”‚   è¯­æ³•æ£€æŸ¥       â”‚    â”‚   ç±»å‹æ£€æŸ¥       â”‚    â”‚     æµ‹è¯•        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ å¼€å‘å·¥å…·é…ç½®

### 1. TypeScript ä¸¥æ ¼æ¨¡å¼

**é…ç½®ä½ç½®**: `tsconfig.json`

âœ… **å¯ç”¨çš„ä¸¥æ ¼è§„åˆ™**:
- `"strict": true` - å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥
- `"noUnusedLocals": true` - ç¦æ­¢æœªä½¿ç”¨çš„å±€éƒ¨å˜é‡
- `"noUnusedParameters": true` - ç¦æ­¢æœªä½¿ç”¨çš„å‚æ•°
- `"noImplicitAny": true` - ç¦æ­¢éšå¼anyç±»å‹
- `"noFallthroughCasesInSwitch": true` - ç¦æ­¢switchè¯­å¥è´¯ç©¿
- `"exactOptionalPropertyTypes": true` - ç²¾ç¡®å¯é€‰å±æ€§ç±»å‹
- `"noImplicitReturns": true` - ç¦æ­¢éšå¼è¿”å›
- `"noUncheckedIndexedAccess": true` - ç¦æ­¢æœªæ£€æŸ¥çš„ç´¢å¼•è®¿é—®

### 2. ESLint é…ç½®

**é…ç½®ä½ç½®**: `eslint.config.js`

ğŸ”§ **è§„åˆ™çº§åˆ«**:
- **é”™è¯¯ (error)**: é˜»æ­¢æäº¤çš„ä¸¥é‡é—®é¢˜
- **è­¦å‘Š (warn)**: éœ€è¦æ³¨æ„ä½†ä¸é˜»æ­¢æäº¤
- **å…³é—­ (off)**: ä¸æ£€æŸ¥

**æ ¸å¿ƒè§„åˆ™**:
```javascript
// TypeScript ä¸¥æ ¼è§„åˆ™
"@typescript-eslint/no-unused-vars": "error"
"@typescript-eslint/no-explicit-any": "warn" 
"@typescript-eslint/prefer-nullish-coalescing": "error"

// ä»£ç è´¨é‡è§„åˆ™
"no-console": "warn"
"no-debugger": "error"
"prefer-const": "error"
"eqeqeq": ["error", "always"]

// React è§„åˆ™
"react-hooks/exhaustive-deps": "error"
```

### 3. Prettier æ ¼å¼åŒ–

**é…ç½®ä½ç½®**: `.prettierrc`

ğŸ“ **æ ¼å¼åŒ–æ ‡å‡†**:
- ä½¿ç”¨åˆ†å·: `"semi": true`
- åŒå¼•å·: `"singleQuote": false`
- è¡Œå®½: `"printWidth": 80`
- ç¼©è¿›: `"tabWidth": 2`
- å°¾éšé€—å·: `"trailingComma": "es5"`

### 4. Vitest æµ‹è¯•æ¡†æ¶

**é…ç½®ä½ç½®**: `vitest.config.ts`

ğŸ§ª **æµ‹è¯•æ ‡å‡†**:
- å…¨å±€æµ‹è¯•ç¯å¢ƒ: `jsdom`
- ä»£ç è¦†ç›–ç‡: ä½¿ç”¨ `v8` æä¾›å•†
- æµ‹è¯•è¶…æ—¶: `10000ms`
- å¹¶è¡Œæ‰§è¡Œ: å¯ç”¨å¤šçº¿ç¨‹

## ğŸ“œ è´¨é‡æ£€æŸ¥è„šæœ¬

### åŸºç¡€è„šæœ¬

```bash
# ä»£ç æ ¼å¼åŒ–
npm run format              # è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 
npm run format:check        # æ£€æŸ¥æ ¼å¼åŒ–çŠ¶æ€

# è¯­æ³•æ£€æŸ¥
npm run lint                # ESLintæ£€æŸ¥
npm run lint:fix            # è‡ªåŠ¨ä¿®å¤ESLinté—®é¢˜

# ç±»å‹æ£€æŸ¥
npm run type-check          # TypeScriptç±»å‹æ£€æŸ¥

# æµ‹è¯•
npm run test                # äº¤äº’å¼æµ‹è¯•
npm run test:run            # å•æ¬¡è¿è¡Œæµ‹è¯•
npm run test:ui             # æµ‹è¯•UIç•Œé¢
npm run test:coverage       # è¦†ç›–ç‡æµ‹è¯•
```

### è´¨é‡é—¨ç¦è„šæœ¬

```bash
# å®Œæ•´è´¨é‡æ£€æŸ¥
npm run quality:check       # å®Œæ•´è´¨é‡æ£€æŸ¥æµç¨‹

# è´¨é‡é—®é¢˜ä¿®å¤
npm run quality:fix         # è‡ªåŠ¨ä¿®å¤å¯ä¿®å¤çš„è´¨é‡é—®é¢˜
```

## ğŸ”’ Git Hooks è´¨é‡é—¨ç¦

### Pre-commit Hook

**æ‰§è¡Œé¡ºåº**:
1. **æ ¼å¼åŒ–æ£€æŸ¥** - ç¡®ä¿ä»£ç ç¬¦åˆæ ¼å¼æ ‡å‡†
2. **ESLintæ£€æŸ¥** - ç¡®ä¿ä»£ç ç¬¦åˆè¯­æ³•è§„èŒƒ
3. **ç±»å‹æ£€æŸ¥** - ç¡®ä¿TypeScriptç±»å‹æ­£ç¡®
4. **æµ‹è¯•è¿è¡Œ** - ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

**å¤±è´¥å¤„ç†**:
- ä»»ä½•ä¸€æ­¥å¤±è´¥éƒ½ä¼šé˜»æ­¢æäº¤
- æä¾›æ˜ç¡®çš„é”™è¯¯ä¿¡æ¯å’Œä¿®å¤å»ºè®®
- è‡ªåŠ¨åŒ–ä¿®å¤å»ºè®®ï¼ˆå¦‚è¿è¡Œ `npm run quality:fix`ï¼‰

## ğŸ“Š è´¨é‡æ ‡å‡†

### ğŸ¯ ä»£ç è´¨é‡æŒ‡æ ‡

| æŒ‡æ ‡ | æ ‡å‡† | æ£€æŸ¥æ–¹å¼ |
|------|------|----------|
| ESLint é€šè¿‡ç‡ | 100% | `npm run lint` |
| TypeScript ç±»å‹é”™è¯¯ | 0ä¸ª | `npm run type-check` |
| æµ‹è¯•é€šè¿‡ç‡ | 100% | `npm run test:run` |
| ä»£ç æ ¼å¼åŒ– | 100%ä¸€è‡´ | `npm run format:check` |

### ğŸš« è´¨é‡é˜»æ­¢è§„åˆ™

**ç«‹å³é˜»æ­¢æäº¤çš„æƒ…å†µ**:
- ESLinté”™è¯¯çº§åˆ«è§„åˆ™å¤±è´¥
- TypeScriptç¼–è¯‘é”™è¯¯
- æµ‹è¯•ç”¨ä¾‹å¤±è´¥
- ä»£ç æ ¼å¼ä¸ç¬¦åˆPrettieræ ‡å‡†

**è­¦å‘Šä½†å…è®¸æäº¤çš„æƒ…å†µ**:
- ESLintè­¦å‘Šçº§åˆ«é—®é¢˜
- éƒ¨åˆ†ä»£ç è¦†ç›–ç‡ä¸è¶³ï¼ˆä½†æµ‹è¯•é€šè¿‡ï¼‰

## ğŸ“ å¼€å‘å·¥ä½œæµ

### 1. æ—¥å¸¸å¼€å‘

```bash
# å¼€å‘å‰
npm run dev                 # å¯åŠ¨å¼€å‘æœåŠ¡å™¨

# å¼€å‘ä¸­ï¼ˆæ¨èè®¾ç½®ç¼–è¾‘å™¨è‡ªåŠ¨æ ¼å¼åŒ–ï¼‰
npm run format             # å®šæœŸæ ¼å¼åŒ–ä»£ç 
npm run lint:fix           # ä¿®å¤ESLinté—®é¢˜

# å¼€å‘å
npm run quality:check      # æäº¤å‰è´¨é‡æ£€æŸ¥
```

### 2. æäº¤ä»£ç 

```bash
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
# è‡ªåŠ¨è§¦å‘pre-commit hook
# æ‰€æœ‰è´¨é‡æ£€æŸ¥é€šè¿‡åæ‰èƒ½æˆåŠŸæäº¤
```

### 3. æŒç»­é›†æˆ

å»ºè®®åœ¨CI/CDç®¡é“ä¸­æ·»åŠ ç›¸åŒçš„è´¨é‡æ£€æŸ¥ï¼š

```yaml
# .github/workflows/quality.yml ç¤ºä¾‹
- name: Quality Check
  run: npm run quality:check
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 1. TypeScript ä¸¥æ ¼æ¨¡å¼é”™è¯¯

**é—®é¢˜**: å¯ç”¨ä¸¥æ ¼æ¨¡å¼åå‡ºç°å¤§é‡ç±»å‹é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é€æ­¥ä¿®å¤ç±»å‹é”™è¯¯
npm run type-check          # æŸ¥çœ‹æ‰€æœ‰é”™è¯¯
# ä¿®å¤ä¸€ä¸ªæ–‡ä»¶åå†æ¬¡æ£€æŸ¥
npm run type-check
```

**å¸¸è§ä¿®å¤æ¨¡å¼**:
```typescript
// ä¿®å¤å‰: éšå¼any
function process(data) { }

// ä¿®å¤å: æ˜ç¡®ç±»å‹
function process(data: unknown) { }

// ä¿®å¤å‰: å¯èƒ½undefined
const value = data.field.name;

// ä¿®å¤å: å®‰å…¨è®¿é—®
const value = data.field?.name;
```

#### 2. ESLint è§„åˆ™å†²çª

**é—®é¢˜**: ESLintè§„åˆ™ä¸é¡¹ç›®éœ€æ±‚å†²çª

**è§£å†³æ–¹æ¡ˆ**:
```javascript
// eslint.config.js ä¸­è°ƒæ•´è§„åˆ™
rules: {
  "rule-name": "off",          // å…³é—­è§„åˆ™
  "rule-name": "warn",         // é™çº§ä¸ºè­¦å‘Š
  "rule-name": ["error", {...options}]  // è‡ªå®šä¹‰é€‰é¡¹
}
```

#### 3. é¢„æäº¤é’©å­å¤±è´¥

**é—®é¢˜**: Gitæäº¤æ—¶è´¨é‡æ£€æŸ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é€æ­¥æ’æŸ¥é—®é¢˜
npm run format:check        # æ£€æŸ¥æ ¼å¼åŒ–
npm run lint               # æ£€æŸ¥è¯­æ³•
npm run type-check         # æ£€æŸ¥ç±»å‹
npm run test:run           # æ£€æŸ¥æµ‹è¯•

# æ‰¹é‡ä¿®å¤
npm run quality:fix        # è‡ªåŠ¨ä¿®å¤å¯ä¿®å¤é—®é¢˜
```

#### 4. æµ‹è¯•ç¯å¢ƒé—®é¢˜

**é—®é¢˜**: Vitestæµ‹è¯•ç¯å¢ƒé…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥æµ‹è¯•è®¾ç½®
npm run test -- --reporter=verbose

# æ›´æ–°æµ‹è¯•è®¾ç½®æ–‡ä»¶
# src/test/setup.ts
```

## ğŸ“ˆ è´¨é‡æå‡å»ºè®®

### 1. ç¼–è¾‘å™¨é›†æˆ

**æ¨èVS Codeæ’ä»¶**:
- ESLint
- Prettier - Code formatter
- TypeScript Hero
- Vitest

**è®¾ç½®è‡ªåŠ¨æ ¼å¼åŒ–**:
```json
// .vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  }
}
```

### 2. å›¢é˜Ÿåä½œ

**ä»£ç å®¡æŸ¥æ¸…å•**:
- [ ] æ‰€æœ‰è´¨é‡æ£€æŸ¥é€šè¿‡
- [ ] æµ‹è¯•è¦†ç›–å…³é”®åŠŸèƒ½
- [ ] æ— console.logç­‰è°ƒè¯•ä»£ç 
- [ ] ç±»å‹å®šä¹‰å®Œæ•´
- [ ] ä»£ç æ ¼å¼ç»Ÿä¸€

### 3. æŒç»­æ”¹è¿›

**å®šæœŸè¯„ä¼°**:
- æ¯æœˆè¯„ä¼°ESLintè§„åˆ™æœ‰æ•ˆæ€§
- ç›‘æ§ä»£ç è´¨é‡æŒ‡æ ‡è¶‹åŠ¿
- æ”¶é›†å›¢é˜Ÿåé¦ˆä¼˜åŒ–æµç¨‹

---

## ğŸ“ æ”¯æŒä¸åé¦ˆ

å¦‚æœåœ¨ä½¿ç”¨è´¨é‡ä¿è¯ä½“ç³»è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥é˜…æœ¬æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æ£€æŸ¥ç›¸å…³é…ç½®æ–‡ä»¶
3. è¿è¡Œå•ç‹¬çš„è´¨é‡æ£€æŸ¥è„šæœ¬å®šä½é—®é¢˜
4. å‘å›¢é˜ŸæŠ¥å‘ŠæŒç»­æ€§é—®é¢˜

**è´¨é‡ä¿è¯ä½“ç³»ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2024å¹´12æœˆ  
**ç»´æŠ¤è€…**: Claude Code Assistant

---

*æ­¤æ–‡æ¡£æ˜¯é¡¹ç›®è´¨é‡ä¿è¯ä½“ç³»çš„å®Œæ•´æŒ‡å—ï¼Œå»ºè®®æ‰€æœ‰å¼€å‘è€…ä»”ç»†é˜…è¯»å¹¶éµå¾ªã€‚*